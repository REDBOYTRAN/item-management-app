<div class="container">
    <div class="mt-8">
        <div class="d-flex justify-content-between">
            <h2>List of items</h2>
            <a class="m-8 btn btn-primary mb-2" (click)="navigateToNewItem()">
                <i class="fa fa-plus"></i>
                <span>&nbsp;&nbsp;New Item</span>
            </a>
        </div>
    </div>

    <div class="input-group mb-3">
        <input type="text" width="100%" class="form-control" placeholder="Search" [(ngModel)]="searchQuery"
            (input)="onSearch()">
    </div>

    <div *ngIf="items">
        <table datatable class="table table-striped table-bordered table-sm row-border hover" style="width:100%">
            <thead>
                <tr style="font-size: 14px;">
                    <th (click)="sortColumn('name')" class=" pl-3 pr-4" style="min-width: 200px; width: 30%;">
                        Name
                        <i *ngIf="sortedColumn !== 'name'" class="fa-solid fa-sort"></i>
                        <i *ngIf="sortedColumn === 'name'" class="fa sort-enable"
                            [ngClass]="{'fa-solid fa-sort-up': !isDesc, 'fa-solid fa-sort-down': isDesc}"></i>
                    </th>
                    <th (click)="sortColumn('type')" class=" pl-3 pr-3" style="min-width: 150px; width: 30%;">
                        Type
                        <i *ngIf="sortedColumn !== 'type'" class="fa-solid fa-sort"></i>
                        <i *ngIf="sortedColumn === 'type'" class="fa sort-enable"
                            [ngClass]="{'fa-solid fa-sort-up': !isDesc, 'fa-solid fa-sort-down': isDesc}"></i>
                    </th>
                    <th (click)="sortColumn('category')" class=" pl-3 pr-3" style="min-width: 150px; width: 30%;">
                        Category
                        <i *ngIf="sortedColumn !== 'category'" class="fa-solid fa-sort"></i>
                        <i *ngIf="sortedColumn === 'category'" class="fa sort-enable"
                            [ngClass]="{'fa-solid fa-sort-up': !isDesc, 'fa-solid fa-sort-down': isDesc}"></i>
                    </th>
                    <th (click)="sortColumn('price')" class=" pl-3 pr-3" style="min-width: 100px; width: 10%;">
                        Price
                        <i *ngIf="sortedColumn !== 'price'" class="fa-solid fa-sort"></i>
                        <i *ngIf="sortedColumn === 'price'" class="fa sort-enable"
                            [ngClass]="{'fa-solid fa-sort-up': !isDesc, 'fa-solid fa-sort-down': isDesc}"></i>
                    </th>
                </tr>
            </thead>

            <tbody>
                <tr class="table-row " *ngFor="let item of filteredItems;" (click)="navigateToEditItem(item.id)">
                    <td style="padding-left: 1.5rem" class="">{{item.name}}</td>
                    <td class="">{{item.type}}</td>
                    <td class="">{{item.category}}</td>
                    <td class="">{{item.price | currency}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>